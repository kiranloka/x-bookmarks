model SyncJob {
    id          String    @id @default(cuid())
    userId      String
    user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
    status      JobStatus @default(PENDING)
    type        SyncType
    totalItems  Int       @default(0)
    processed   Int       @default(0)
    startedAt   DateTime?
    completedAt DateTime?
    error       String?   @db.Text
    metadata    Json?
    createdAt   DateTime  @default(now())

    @@index([userId, status])
    @@index([userId])
    @@map("sync_jobs")
}

enum JobStatus {
    PENDING
    PROCESSING
    COMPLETED
    FAILED
}

enum SyncType {
    FULL_SYNC
    INCREMENTAL_SYNC
    MANUAL_IMPORT
}
